+ set -o pipefail
+ export ECF_PORT=3141
+ ECF_PORT=3141
+ export ECF_HOST=hercules-01-06
+ ECF_HOST=hercules-01-06
+ export ECF_NAME=/schism_suite/job_submission/wait_for_simulation
+ ECF_NAME=/schism_suite/job_submission/wait_for_simulation
+ export ECF_PASS=vGUpGmxL
+ ECF_PASS=vGUpGmxL
+ export ECF_TRYNO=1
+ ECF_TRYNO=1
+ export ECF_RID=702778
+ ECF_RID=702778
+ export PATH=/work/noaa/nosofs/mjisan/conda/.conda/envs/myecflow/bin:/work/noaa/nosofs/mjisan/conda/.conda/envs/myecflow/bin:/apps/spack-managed/gcc-11.3.1/miniconda3-24.3.0-avnaftwsbozuvtsq7jrmpmcvf6c7yzlt/condabin:/usr/sbin:/usr/bin:/apps/sbin:/apps/bin:/opt/slurm/bin:/work/noaa/nosofs/mjisan/xxdiff/bin
+ PATH=/work/noaa/nosofs/mjisan/conda/.conda/envs/myecflow/bin:/work/noaa/nosofs/mjisan/conda/.conda/envs/myecflow/bin:/apps/spack-managed/gcc-11.3.1/miniconda3-24.3.0-avnaftwsbozuvtsq7jrmpmcvf6c7yzlt/condabin:/usr/sbin:/usr/bin:/apps/sbin:/apps/bin:/opt/slurm/bin:/work/noaa/nosofs/mjisan/xxdiff/bin
+ ecflow_client --init=702778
+ trap ERROR 0
+ trap '{ echo "Killed by a signal"; ERROR ; }' 1 2 3 4 5 6 7 8 10 12 13 15
+ BASE_PATH=/work/noaa/nosofs/mjisan/schism/schism_verification_tests
++ find_latest_run_directory
+++ sort -V
+++ tail -n 1
+++ ls -d /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_001 /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_002 /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_003 /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_004 /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_005 /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
++ local latest_dir=/work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
++ echo /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
+ RUN_DIR=/work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
+ echo 'Latest run directory: /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD'
Latest run directory: /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
+ MAX_WAIT_TIME=43200
++ date +%s
+ START_TIME=1726713959
+ echo 'Waiting for simulation to complete...'
Waiting for simulation to complete...
+ true
+ check_simulation_complete /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
+ local run_dir=/work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD
+ local outputs_dir=/work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs
+ '[' '!' -d /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs ']'
++ wc -l
++ ls /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_1.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_2.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_3.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_4.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_5.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_6.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_7.nc /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs/out2d_8.nc
+ local out2d_files=8
+ '[' 8 -gt 0 ']'
+ echo 'Found 8 out2d_*.nc files in /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs'
Found 8 out2d_*.nc files in /work/noaa/nosofs/mjisan/schism/schism_verification_tests/Test_Duck_SCH_STD/outputs
+ return 0
+ echo 'Simulation completed.'
Simulation completed.
+ break
+ wait
+ ecflow_client --complete
+ trap 0
+ exit 0
